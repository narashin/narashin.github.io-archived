(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{461:function(t,s,a){t.exports=a.p+"assets/img/ses-unverifiedmail-reply.51a5b99d.png"},462:function(t,s,a){t.exports=a.p+"assets/img/ses-unverified-email-reply_11.48.41.92a4cdc8.png"},463:function(t,s,a){t.exports=a.p+"assets/img/ses-unverified-email-reply_11.52.17.93f64207.png"},509:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"aws-ses를-통해-unverified-email로-reply-보내기"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#aws-ses를-통해-unverified-email로-reply-보내기"}},[t._v("#")]),t._v(" AWS SES를 통해 Unverified Email로 Reply 보내기")]),t._v(" "),n("h2",{attrs:{id:"_0-시나리오"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-시나리오"}},[t._v("#")]),t._v(" 0. 시나리오")]),t._v(" "),n("p",[n("img",{attrs:{src:a(461),alt:"~@img/ses-unverified-email-reply/ses-unverifiedmail-reply.png"}})]),t._v(" "),n("p",[t._v("From: System Mail "),n("code",[t._v("(Verified Mail)")]),t._v("(실제 Sender는 Seller)")]),t._v(" "),n("p",[n("code",[t._v("To: Customer")])]),t._v(" "),n("p",[t._v("로 발송된 메일의 답장을")]),t._v(" "),n("p",[n("code",[t._v("From : Customer (Unverified Mail)")])]),t._v(" "),n("p",[n("code",[t._v("To: Seller (Unverified Mail)")])]),t._v(" "),n("p",[t._v("로 보낼 수 있는지")]),t._v(" "),n("h2",{attrs:{id:"_1-aws-ses-sdk-를-이용하여-메일-발송"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-aws-ses-sdk-를-이용하여-메일-발송"}},[t._v("#")]),t._v(" 1. AWS SES SDK 를 이용하여 메일 발송")]),t._v(" "),n("ul",[n("li",[t._v("2020-02 기준 SES 서비스는 "),n("code",[t._v("ap-northeast-2")]),t._v(" (서울) 리전에서 릴리즈 되지 않았으므로, "),n("code",[t._v("ap-southeast-2")]),t._v(" (시드니) 리전에서 진행합니다.")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AWS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'aws-sdk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AWS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" region"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ap-southeast-2'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ses "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AWS"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SES")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" params "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  Destination"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ToAddresses"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Customer<nara@mz.co.kr>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Body"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Html"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST EMAIL'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        Charset"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTF-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      Text"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        Data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST EMAIL'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        Charset"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTF-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    Subject"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      Data"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TEST EMAIL'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      Charset"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'UTF-8'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  Source"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'System<me@nara.dev>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ReplyToAddresses"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Seller<popcornderby@gmail.com>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nses"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sendEmail")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[n("a",{attrs:{href:"https://docs.aws.amazon.com/ko_kr/ses/latest/DeveloperGuide/examples-send-using-sdk.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("AWS SDK를 사용하여 이메일 전송"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"_2-전송된-이메일-확인"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-전송된-이메일-확인"}},[t._v("#")]),t._v(" 2. 전송된 이메일 확인")]),t._v(" "),n("p",[n("img",{attrs:{src:a(462),alt:"~@img/ses-unverified-email-reply/ses-unverified-email-reply_11.48.41.png"}})]),t._v(" "),n("h2",{attrs:{id:"raw-데이터-확인"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#raw-데이터-확인"}},[t._v("#")]),t._v(" Raw 데이터 확인")]),t._v(" "),n("p",[n("img",{attrs:{src:a(463),alt:"~@img/ses-unverified-email-reply/ses-unverified-email-reply_11.52.17.png"}})]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('Delivered-To: nara@mz.co.kr\nReceived: by 2002:a17:90a:e28a:0:0:0:0 with SMTP id d10csp1311896pjz;\n        Thu, 20 Feb 2020 18:48:14 -0800 (PST)\nX-Google-Smtp-Source: APXvYqxfelvKTuxgI3dfj9l5PygvHC4K1313/h32Xm1g4Xk7MC\nX-Received: by 2002:aa7:8490:: with SMTP id u16mr14557121pfn.87.1582253294252;\n        Thu, 20 Feb 2020 18:48:14 -0800 (PST)\nARC-Seal: i=1; a=rsa-sha256; t=1582253294; cv=none;\n        d=google.com; s=arc-20160816;\n        b=CYYE8+HTlPvFixMht04RLt=\nARC-Message-Signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;\n        h=feedback-id:date:message-id:mime-version:subject:to:reply-to:from\n         :dkim-signature;\n        bh=Bzr5xOzsfCgdfK9LlK4pITBNf/L0x8HExlTGQAtoRLY=;\n        b=gooYVF\nARC-Authentication-Results: i=1; mx.google.com;\n       dkim=pass header.i=@amazonses.com header.s=o6ptibvfbllhpdhtxr7klizy2riobquz header.b=UiFnAKOm;\n       spf=pass (google.com: domain of 0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com designates 69.169.232.7 as permitted sender) smtp.mailfrom=0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com\nReturn-Path: <0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com>\nReceived: from b232-7.smtp-out.ap-southeast-2.amazonses.com (b232-7.smtp-out.ap-southeast-2.amazonses.com. [69.169.232.7])\n        by mx.google.com with ESMTPS id s23si1208084pgn.426.2020.02.20.18.48.13\n        for <nara@mz.co.kr>\n        (version=TLS1_2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);\n        Thu, 20 Feb 2020 18:48:14 -0800 (PST)\nReceived-SPF: pass (google.com: domain of 0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com designates 69.169.232.7 as permitted sender) client-ip=69.169.232.7;\nAuthentication-Results: mx.google.com;\n       dkim=pass header.i=@amazonses.com header.s=o6ptibvfbllhpdhtxr7klizy2riobquz header.b=UiFnAKOm;\n       spf=pass (google.com: domain of 0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com designates 69.169.232.7 as permitted sender) smtp.mailfrom=0108017065a53a57-f61ac9cf-0249-4635-b5c4-384bbc1003eb-000000@ap-southeast-2.amazonses.com\nDKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/simple; s=o6ptibvfbllhpdhtxr7klizy2riobquz; d=amazonses.com; t=1582253292; h=From:Reply-To:To:Subject:MIME-Version:Content-Type:Message-ID:Date:Feedback-ID; bh=Bzr5xOzsfCgdfK9LlK4pITBNf/L0x8HExlTGQAtoRLY=; b=Ui\nFrom: System <me@nara.dev>\nReply-To: Seller <popcornderby@gmail.com>\nTo: Customer <nara@mz.co.kr>\nSubject: TEST EMAIL\nMIME-Version: 1.0\nContent-Type: multipart/alternative; boundary="----=_Part_27885_1958420156.1582253292121"\nMessage-ID: <0108017065a53a57b-000000@ap-southeast-2.amazonses.com>\nDate: Fri, 21 Feb 2020 02:48:12 +0000\nX-SES-Outgoing: 2020.02.21-69.169.232.7\nFeedback-ID: 1.ap-southeast-2.jYSXCFEdVk+v2lFFgc6I=:AmazonSES\n\n------=_Part_27885_1958420156.1582253292121\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 7bit\n\nTEST EMAIL\n------=_Part_27885_1958420156.1582253292121\nContent-Type: text/html; charset=UTF-8\nContent-Transfer-Encoding: 7bit\n\nTEST EMAIL\n------=_Part_27885_1958420156.1582253292121--\n')])])])])}),[],!1,null,null,null);s.default=e.exports}}]);