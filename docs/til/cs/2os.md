---
title: 운영체제 구조
description: 운영체제 시스템콜
sidebarDepth: 2
---

[[toc]]

# 운영체제 구조 - 시스템콜

## 응용프로그램, 운영체제, 컴퓨터 하드웨어(시스템 리소스) 관계

도서관으로 비유 하자면,

- 운영체제는 도서관
- 응용 프로그램은 시민
- 컴퓨터 하드웨어는 책
- 운영체제의 역할
  - 시민은 도서관에 원하는 책(자원)을 요청함
  - 도서관은 적절한 책(자원)을 찾아서, 시민에게 빌려줍니다
  - 기한이 다 되면, 도서관이 해당 책(자원) 회수함

## 사용자, 응용 프로그램, 운영체제, 컴퓨터 하드웨어와 관계

![](~@img/cs/os1.png)

### 운영체제는 사용자 인터페이스 제공

![](~@img/cs/os2.png)

- 쉘 (Shell)
  - 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
  - 쉘은 터미널 환경(CLI)과, GUI 환경 두 종류로 분류

### 운영체제는 응용프로그램을 위해서도 인터페이스를 제공

- API (Application Programming Interface)
  - 함수로 제공
  - open()
- 보통은 라이브러리(library) 형태로 제공
  - C library
  - ex) glibc

#### 시스템 콜

- 시스템 콜 또는 시스템 호출 인터페이스
- 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
- API 내부에는 시스템콜을 호출하는 형태로 만들어지는 경우가 대부분

![](~@img/cs/os3.png)

## 운영체제를 만든다면?

1. 운영체제를 개발한다.(kernel)
2. 시스템 콜을 개발한다.
3. C(또는 사용 언어) API(library) 개발
4. Shell 프로그램 개발
5. 응용 프로그램 개발

## 운영체제와 시스템콜

- 표준적인 시스템콜 정의 예
  - POSIX API : UNIX 계열의 운영체제는 대부분 이를 따르고 있음
  - 윈도우 API

> API : 각 언어별 운영체제 기능 호출 인터페이스 함수
> 시스템콜: 운영체제 기능을 호출하는 함수

### CPU Protection Rings

- CPU도 권한 모드라는 것을 가지고 있다.
  - 사용자 모드 (user mode by Applications) : 응용 프로그램이 사용. LV3
  - 커널 모드 (kernel mode by OS) : 특권 명령어 실행과 원하는 작업 수행을 위한 자원 접근을 가능케 하는 모드. OS가 사용. LV0

![](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Priv_rings.svg/1200px-Priv_rings.svg.png)

> 커널이란? - 핵심, OS 핵심 소프트웨어
> 쉘이란? - 껍데기

## 시스템콜은 커널 모드로 실행

- 커널 모드에서만 실행 가능한 기능들이 있음.
- 커널 모드로 실행하려면, 반드시 시스템 콜을 사용해야함(거쳐야 함)
- 시스템 콜은 운영체제 제공

## 사용자 모드와 커널 모드

- 함부로 응용 프로그램이 전체 컴퓨터 시스템을 해치지 못함
- 주민등록등본은 꼭 동사무소 또는 민원24시 에서 특별한 신청서를 써야만, 발급 할 수 있는 것과 동일한 원리 : 사용자모드
  - 동사무소 직원은 특별한 권한을 가지고, 주민등록등본 출력 명령을 실행 : 커널모드
