{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{498:function(t,a,e){\"use strict\";e.r(a);var s=e(25),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"mediastore-container-내-전체-파일-삭제-스크립트\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mediastore-container-내-전체-파일-삭제-스크립트\"}},[t._v(\"#\")]),t._v(\" MediaStore Container 내 전체 파일 삭제 스크립트\")]),t._v(\" \"),e(\"h2\",{attrs:{id:\"상황\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#상황\"}},[t._v(\"#\")]),t._v(\" 상황\")]),t._v(\" \"),e(\"ol\",[e(\"li\",[t._v(\"콘솔에서 MediaStore 내 파일을 삭제할 때 객체를 하나씩 삭제할 수 밖에 없다.\")]),t._v(\" \"),e(\"li\",[t._v(\"MediaStore Container를 삭제 하기 위해서는 컨테이너 내 파일이 없어야 삭제가 가능하다.\")])]),t._v(\" \"),e(\"h2\",{attrs:{id:\"해결방법\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#해결방법\"}},[t._v(\"#\")]),t._v(\" 해결방법\")]),t._v(\" \"),e(\"ol\",[e(\"li\",[t._v(\"AWS Console 에서는 불가하니, AWS CLI를 통해 처리한다.\\n\"),e(\"ul\",[e(\"li\",[t._v(\"Config에 Access Key, Secret access key, Region 설정\")])])]),t._v(\" \"),e(\"li\",[t._v(\"아래 스크립트 참고\\n\"),e(\"ul\",[e(\"li\",[t._v(\"컨테이너 내 폴더가 있을 경우 따로 처리 해주어야 함.\")])])])]),t._v(\" \"),e(\"p\",[e(\"a\",{attrs:{href:\"https://dev.classmethod.jp/cloud/aws/aws-elemental-mediastore-delete-objects-aws-cli-oneliner/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"[小ネタ] AWS Elemental MediaStore のオブジェクトをまるっと削除する AWS CLI ワンライナー | DevelopersIO\"),e(\"OutboundLink\")],1)]),t._v(\" \"),e(\"div\",{staticClass:\"language-bash extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[e(\"code\",[t._v(\"aws mediastore-data list-items \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  --endpoint\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"https://xxxxxxxxxxxxxx.data.mediastore.ap-northeast-1.amazonaws.com \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  --path\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"/folder \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  --output\"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"text \"),e(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"\\\\\")]),t._v(\"\\n  \"),e(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"|\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"awk\")]),t._v(\" \"),e(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\\'{system(\"aws mediastore-data delete-object --endpoint=https://xxxxxxxxxxxxxx.data.mediastore.ap-northeast-1.amazonaws.com --path=/folder/\"'),e(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t._v(\"$6\")]),t._v(\")}'\")]),t._v(\"\\n\")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);","extractedComments":[]}